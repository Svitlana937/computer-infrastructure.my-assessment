name: GitHub Actions Demo
run-name: ${{ github.actor }} is testing out GitHub Actions ðŸš€
on:
  workflow_dispatch:
  schedule:
    # https://crontab.guru/#3_8_*_*_6
    - cron: "3 8 * * 6" # At 08:03 on Saturday

permissions:
  contents: write



jobs:
  faang-job:
    runs-on: ubuntu-latest

    steps:
      - name: Clone repository
        uses: actions/checkout@v5

      - name: Install Python
        uses: actions/setup-python@v4
        with:
          python-version: "3.x"

      - name: Install required packages
        run: |
          pip install --upgrade pip
          pip install -r requirements.txt

      - name: Run FAANG plotting script
        run: python faang.py

      - name: Commit generated plot
        run: |
          git config user.name "github-actions[bot]"
          git config user.email "github-actions[bot]@users.noreply.github.com"
          git add plots/
          git commit -m "Auto: add weekly FAANG plot" || echo "Nothing to commit"
          git push